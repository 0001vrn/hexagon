#
# Site generation does not work well with Gradle daemon. Execute it this way:
#     gw --no-daemon clean site
#

clone:
  path: github.com/jamming/hexagon

build:
  image: java
  commands:
    - gradle/wrapper check
    - gradle/wrapper --no-daemon jacocoTestReport site dokka
    - bash <(curl -s https://codecov.io/bash)

compose:
  mongodb:
    image: mongo

  rabbitmq:
    image: rabbitmq:management
