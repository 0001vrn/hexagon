
apply(from: "../gradle/kotlin.gradle")
apply(from: "../gradle/bintray.gradle")
apply(from: "../gradle/dokka.gradle")

// IMPORTANT: Required for compiling classes in test dependencies. It *MUST* be before dependencies
compileTestKotlin.dependsOn(tasks.getByPath(":port_http_server:compileTestKotlin"))

dependencies {
    compile(project(":http_server_servlet"))
    compile("org.eclipse.jetty:jetty-webapp:$jettyVersion") { exclude(module: "slf4j-api") }

    testCompile(project(":port_http_client"))
    testCompile(project(":port_http_server").sourceSets.test.output)
    testCompile("org.testng:testng:$testngVersion")
}

test {
    useTestNG()
}
