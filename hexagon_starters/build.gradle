import static java.lang.System.getenv

apply plugin: 'uk.co.cacoethes.lazybones-templates'

// TODO Write version to template `VERSION` file
// TODO Replace version in template `gradle.properties`
// TODO Include all subdirs as templateDirs
lazybones {
    final String btKey = findProperty ('bintrayKey') ?: getenv('BINTRAY_KEY') ?: 'anonymous'
    final String btUser = findProperty ('bintrayUser') ?: getenv('BINTRAY_USER') ?: 'anonymous'

    repositoryName = "$btUser/maven"
    publish = true

    setRepositoryUsername btUser.toString () ?: 'anonymous'
    setRepositoryApiKey btKey.toString () ?: 'anonymous'

    licenses = [ 'MIT' ]
    setTemplateDirs(files("$projectDir/hexagon-service"))
}
