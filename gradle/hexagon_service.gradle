
apply from: "$gradleScripts/hexagon_library.gradle"
apply plugin: 'application'

startScripts {
    unixStartScriptGenerator.template = resources.text.fromFile ("$rootDir/gradle/startScript")
}

installDist.destinationDir = file ("$rootProject.buildDir/${project.name}_$version")
installDist.doLast {
    File script = file("${it.destinationDir}/service")
    String template = file ("$rootDir/gradle/serviceScript").text
    String scriptContent = template
        .replace ("#{projectName}", project.name)
        .replace ("#{projectVersion}", project.version)
    script << scriptContent
    script.executable = true
}
