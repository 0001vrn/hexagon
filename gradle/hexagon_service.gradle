
apply from: "$gradleScripts/hexagon_library.gradle"
apply plugin: 'application'

startScripts {
    String template = new URL ("$gradleScripts/startScript").text
    unixStartScriptGenerator.template = resources.text.fromString (template)
}

installDist.destinationDir = file ("$rootProject.buildDir/${project.name}_$version")
installDist.doLast {
    File script = file("${it.destinationDir}/service")
    String template = new URL ("$gradleScripts/serviceScript").text
    String scriptContent = template
        .replace ("#{projectName}", project.name)
        .replace ("#{projectVersion}", project.version)
    script << scriptContent
    script.executable = true
}
